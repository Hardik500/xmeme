{"version":3,"sources":["hooks/useForm.js","utils/helper.js","components/memeForm.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["useForm","callback","validate","initialProps","customErrors","useState","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","useEffect","Object","keys","length","handleSubmit","event","preventDefault","handleChange","persist","target","name","value","caption","url","initialState","MemeForm","props","toast","addTheMeme","updateTheMeme","toggleForm","memeUpdated","a","patchMeme","id","index","error","response","data","errorMessage","postMeme","className","alt","src","onError","style","width","textAlign","onSubmit","htmlFor","onChange","placeholder","disabled","type","onClick","e","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable"],"mappings":"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","file":"static/js/5.3de2ef28.chunk.js","sourcesContent":["//useForm.js\n\n// This file contains a custom hook to handle form functionilties like handling of validation and taking in the form values\n\nimport { useState, useEffect } from 'react';\n\n\nconst useForm = (callback, validate, initialProps = {}, customErrors = {}) => {\n\n    const [values, setValues] = useState(initialProps);\n    const [errors, setErrors] = useState({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    // If there are no errors and user is trying to submit, call the respective function which is passed\n    useEffect(() => {\n        if (Object.keys(errors).length === 0 && isSubmitting) {\n            callback();\n        }\n    }, [errors]);\n\n    //Submits and checks if there are errors in the form and passes it\n    const handleSubmit = (event) => {\n        if (event) event.preventDefault();\n        setErrors({...validate(values), ...customErrors});\n        setIsSubmitting(true);\n    };\n\n    //Adds the values in an object WRT their names as key\n    const handleChange = (event) => {\n        event.persist();\n        setValues(values => ({ ...values, [event.target.name]: event.target.value }));\n    };\n\n    return {\n        handleChange,\n        handleSubmit,\n        values,\n        errors,\n    }\n};\n\nexport default useForm;\n","// This function handles the main logic to validate fields and their respective values\nexport const validate = (values) => {\n    let errors = {};\n    if (!values.name) {\n        errors.name = \"Name is required\";\n    } else if (values.name.length < 3) {\n        errors.name = \"At least 3 character name is required\";\n    }\n\n    if (!values.caption) {\n        errors.caption = \"Caption is required\";\n    }\n\n    if (!values.url) {\n        errors.url = \"URL is required\";\n    }\n\n    return errors;\n};","//meme-form\nimport 'react-toastify/dist/ReactToastify.css';\nimport { postMeme, patchMeme } from \"../utils/api\";\nimport useForm from \"../hooks/useForm\";\nimport { validate } from \"../utils/helper\"\n\n// Sets the initial data form form fields\nconst initialState = {\n    name: \"\",\n    caption: \"\",\n    url: \"\",\n};\n\nexport default function MemeForm({\n    props,\n    toast,\n    addTheMeme,\n    updateTheMeme,\n    toggleForm,\n}) {\n    // If we are trying to update our meme\n    let memeUpdated = false;\n    let customErrors = {};\n\n    // If props are being passed then our meme is getting updated\n    if (props) {\n        memeUpdated = true;\n    }\n\n    //Handles the submission or updation of meme based on the props\n    const submitForm = async () => {\n        if (memeUpdated) {\n            try {\n                await patchMeme(props.id, values);\n                updateTheMeme({ id: props.id, index: props.index });\n            } catch (error) {\n                toast.error(error.response.data.errorMessage);\n            }\n        } else {\n            try {\n                const { id } = await postMeme(values);\n                addTheMeme({ id });\n            } catch (error) {\n                toast.error(error.response.data.errorMessage);\n            }\n        }\n    };\n\n    const { values, errors, handleChange, handleSubmit } = useForm(\n        submitForm,\n        validate,\n        props ?? initialState,\n        customErrors\n    );\n\n    return (\n\n        <div>\n            <div className=\"signup-container\">\n                <div className=\"left-container\">\n                    {/* Displays the meme if a URL is found in the values */}\n                    {values?.url ? (\n                        <div className=\"meme-preview\">\n                            <img\n                                alt=\"meme\"\n                                src={values?.url}\n                                onError={() => (customErrors.url = \"Image url is invalid\")}\n                            />\n                        </div>\n                    ) : (\n                            <div\n                                className=\"meme-preview\"\n                                style={{ width: \"100%\", textAlign: \"center\" }}\n                            >\n                                <h2>MEME PREVIEW</h2>\n                            </div>\n                        )}\n                </div>\n                <div className=\"right-container\">\n                    <form className=\"addmeme-form\" onSubmit={handleSubmit}>\n                        <header>\n                            <h1>Enter Meme Details</h1>\n                            <div className=\"form-weight\">\n                                <div className=\"user-name\">\n                                    <label htmlFor=\"user-name\">Name*</label>\n                                    <input\n                                        name=\"name\"\n                                        onChange={handleChange}\n                                        id=\"user-name\"\n                                        placeholder=\"Enter your full name\"\n                                        value={values?.name || \"\"}\n                                        disabled={memeUpdated}\n                                        type=\"text\"\n                                    />\n                                    {errors.name && (\n                                        <p className=\"help is-danger\">{errors.name}</p>\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"form-weight\">\n                                <div className=\"meme-caption\">\n                                    <label htmlFor=\"meme-caption\">Caption*</label>\n                                    <input\n                                        name=\"caption\"\n                                        onChange={handleChange}\n                                        id=\"meme-caption\"\n                                        placeholder=\"Enter the meme caption\"\n                                        value={values?.caption}\n                                        type=\"text\"\n                                    />\n                                    {errors.caption && (\n                                        <p className=\"help is-danger\">{errors.caption}</p>\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"form-weight\">\n                                <div className=\"meme-url\">\n                                    <label htmlFor=\"meme-url\">Meme URL*</label>\n                                    <input\n                                        name=\"url\"\n                                        onChange={handleChange}\n                                        id=\"meme-url\"\n                                        placeholder=\"Enter the meme url\"\n                                        value={values?.url}\n                                        type=\"text\"\n                                    />\n                                    {errors.url && <p className=\"help is-danger\">{errors.url}</p>}\n                                </div>\n                            </div>\n                        </header>\n                        <footer>\n                            <div className=\"set\">\n                                <button className=\"cstm-btn close-btn\" onClick={(e) => { e.preventDefault(); toggleForm() }}>\n                                    Close\n                                </button>\n\n                                {memeUpdated ? (\n                                    <input type=\"submit\" value=\"Update\" className=\"cstm-btn\" id=\"submit\" />\n                                ) : (\n                                        <input type=\"submit\" value=\"Submit\" className=\"cstm-btn\" id=\"submit\" />\n                                    )}\n                            </div>\n                        </footer>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}