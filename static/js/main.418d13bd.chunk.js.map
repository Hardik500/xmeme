{"version":3,"sources":["utils/api.js","global.js","assets/icons/sun.svg","assets/icons/moon.svg","components/navbar.js","theme.js","App.js","reportWebVitals.js","index.js","components/loader.js"],"names":["fetchAllMemes","a","skip","limit","axios","get","process","result","data","fetchAMeme","id","postMeme","inputData","post","patchMeme","patch","url","caption","GlobalStyles","createGlobalStyle","theme","body","text","Navbar","toggleForm","toggleTheme","className","onClick","width","height","src","moonIcon","sunIcon","alt","lightTheme","toggleBorder","gradient","darkTheme","InfiniteScroll","lazy","Drawer","MemeGallery","MemeForm","require","config","App","useState","formVisible","setFormVisibility","setTheme","globalMemes","setGlobalMemesData","propMeme","setMemeProp","skipValue","setSkip","moreDataAvailable","setDataAvailability","fetchData","length","toast","error","response","errorMessage","useEffect","addTheMeme","success","tempMemes","unshift","updateTheMeme","index","splice","closeOnClick","pauseOnFocusLoss","fallback","dataLength","next","hasMore","loader","endMessage","style","textAlign","setMemeData","props","memes","open","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","ContentLoader","color","type","timeout","PageLoader","display","alignItems","justifyContent"],"mappings":"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","file":"static/js/main.418d13bd.chunk.js","sourcesContent":["// api.js\n\n// This file contains the API calls that are used in the frontend to interact with the backend\n\nimport axios from \"axios\";\n\nexport const fetchAllMemes = async (skip = 0, limit = 100) => {\n    const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/memes?full=true&skip=${skip}&limit=${limit}`);\n    return result.data;\n}\n\nexport const fetchAMeme = async (id) => {\n    const result = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/memes/${id}?full=true`);\n    return result.data;\n}\n\nexport const postMeme = async (inputData) => {\n    const result = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/memes`, inputData);\n    return result.data;\n}\n\nexport const patchMeme = async (id, inputData) => {\n    await axios.patch(`${process.env.REACT_APP_BACKEND_URL}/memes/${id}`, {url: inputData.url, caption: inputData.caption});\n}","\nimport { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyles = createGlobalStyle`\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    align-items: center;\n    background: ${({ theme }) => theme.body};\n    color: ${({ theme }) => theme.text};\n    font-family: BlinkMacSystemFont, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n    transition: all 0.25s linear;\n  }`","export default __webpack_public_path__ + \"static/media/sun.31ad4aaf.svg\";","export default __webpack_public_path__ + \"static/media/moon.a82cae44.svg\";","//navbar.js\n\n/** \n * This is a navbar component which handles the toggle theme functionality to switch b/w dark and light theme\n * And also presents a button to display the form where the user can submit new memes\n*/\n\n\nimport sunIcon from \"../assets/icons/sun.svg\";\nimport moonIcon from \"../assets/icons/moon.svg\";\n\nexport default function Navbar({ theme, toggleForm, toggleTheme }) {\n  return (\n    <div className=\"navbar\">\n      <div className=\"header\">XMeme</div>\n      <button className=\"add-meme-btn cstm-btn\" onClick={toggleForm}>\n        <div>Add a Meme</div>\n      </button>\n      <button className=\"btn-none theme-btn\" onClick={toggleTheme}>\n        <img\n          width={24}\n          height={24}\n          className=\"theme-img\"\n          src={theme === \"light\" ? moonIcon : sunIcon}\n          alt={theme}\n        />\n      </button>\n    </div>\n  );\n}\n","export const lightTheme = {\n    body: '#E2E2E2',\n    text: '#363537',\n    toggleBorder: '#FFF',\n    gradient: 'linear-gradient(#39598A, #79D7ED)',\n}\n\nexport const darkTheme = {\n    body: '#363537',\n    text: '#FAFAFA',\n    toggleBorder: '#6B8096',\n    gradient: 'linear-gradient(#091236, #1E215D)',\n}","// App.js\n\nimport \"./App.css\";\nimport { GlobalStyles } from \"./global\";\n\nimport React, { useState, useEffect, lazy, Suspense } from \"react\";\nimport { ThemeProvider } from \"styled-components\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport { ContentLoader, PageLoader } from \"./components/loader\";\nimport Navbar from \"./components/navbar\";\nimport { lightTheme, darkTheme } from \"./theme\";\nimport { fetchAllMemes, fetchAMeme } from \"./utils/api\";\n\nconst InfiniteScroll = lazy(() => import(\"react-infinite-scroll-component\"));\nconst Drawer = lazy(() => import(\"react-drag-drawer\"));\nconst MemeGallery = lazy(() => import('./components/memeGallery'));\nconst MemeForm = lazy(() => import('./components/memeForm'));\n\nrequire(\"dotenv\").config();\n\nfunction App() {\n  //Toggles form display\n  const [formVisible, setFormVisibility] = useState(false);\n\n  //Switches theme\n  const [theme, setTheme] = useState(\"dark\");\n\n  //Array of objects of memes\n  const [globalMemes, setGlobalMemesData] = useState([]);\n\n  //Data used for sending data to form in order to update a meme\n  const [propMeme, setMemeProp] = useState(null);\n\n  //Sets the skip value to get the data from the backend after a certain limit\n  const [skipValue, setSkip] = useState(0);\n\n  //Checks if more memes are available\n  const [moreDataAvailable, setDataAvailability] = useState(true);\n\n  //Limits the number of memes we get from the backend\n  const limit = 100;\n\n  // The function that toggles between themes\n  const toggleTheme = () => {\n    // if the theme is not light, then set it to dark\n    if (theme === \"light\") {\n      setTheme(\"dark\");\n      // otherwise, it should be light\n    } else {\n      setTheme(\"light\");\n    }\n  };\n\n  /** \n   * This function fetches the meme from the backend, then\n   * If no more memes are available then sets the value of moreDataAvailable to false,\n   * updates the value of globalMemes \n   * And updates the value of skip\n   * */\n  const fetchData = async () => {\n    try {\n      const result = await fetchAllMemes(skipValue, limit);\n\n      if (result.length === 0) {\n        setDataAvailability(false);\n      }\n\n      setGlobalMemesData([...globalMemes, ...result]);\n      setSkip(skipValue + limit);\n    } catch (error) {\n      toast.error(error.response.data.errorMessage);\n    }\n  };\n\n\n  // The first function which gets called when the componentIsMounted\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  /**\n   * This function changes the value of toggle form to true\n   * And also update propMeme value to contain the updated meme info\n   * */\n  const setMemeData = (props) => {\n    toggleForm();\n    setMemeProp(props);\n  };\n\n  /**\n   * This function handles the submission of memes\n   * Displays a toast message on successful submission\n   * Add the meme in the beginning of the globalMemes array to show it on top\n   * And in the end sets the value of toggle form to false to hide it\n   * */\n\n  const addTheMeme = async ({ id }) => {\n    try {\n      const result = await fetchAMeme(id);\n      toast.success(\"Meme added !!\");\n      let tempMemes = globalMemes;\n      tempMemes.unshift(result);\n      setGlobalMemesData(tempMemes);\n    } catch (error) {\n      toast.error(error.response.data.errorMessage)\n    } finally {\n      toggleForm();\n    }\n  };\n\n  /**\n   * This function handles the updation of memes\n   * Displays a toast message on successful submission\n   * Add the meme in the beginning of the globalMemes array to show it on top\n   * And in the end sets the value of toggle form to false to hide it\n   * */\n\n  const updateTheMeme = async ({ id, index }) => {\n    try {\n      const result = await fetchAMeme(id);\n      toast.success(\"Meme updated 😁\");\n      let tempMemes = globalMemes;\n      tempMemes.splice(index, 1);\n      tempMemes.unshift(result);\n      setGlobalMemesData(tempMemes);\n    } catch (error) {\n      toast.error(error.response.data.errorMessage)\n    } finally {\n      toggleForm();\n    }\n  };\n\n  /**\n   * This function toggles the visible of form\n   * And also sets the memeProp to false when we hide the form\n   * */\n\n  const toggleForm = () => {\n    setFormVisibility(!formVisible);\n\n    if (formVisible === false) {\n      setMemeProp(null);\n    }\n  };\n\n  return (\n    <ThemeProvider theme={theme === \"light\" ? lightTheme : darkTheme}>\n      <>\n        <ToastContainer\n          closeOnClick\n          pauseOnFocusLoss\n          limit={2}\n        />\n        <GlobalStyles />\n        <Navbar\n          toggleForm={toggleForm}\n          toggleTheme={toggleTheme}\n          theme={theme}\n        />\n        {/* Lazy loading of components and using the loader as a fallback */}\n        <Suspense fallback={<PageLoader />}>\n          {globalMemes.length ? (\n            <InfiniteScroll\n              dataLength={globalMemes.length}\n              next={fetchData}\n              hasMore={moreDataAvailable}\n              loader={<ContentLoader />}\n              endMessage={\n                <p style={{ textAlign: \"center\" }}>\n                  <b>Yay! You have seen it all</b>\n                </p>\n              }\n            >\n              <MemeGallery\n                theme={theme}\n                setMemeData={setMemeData}\n                memes={globalMemes}\n                formVisible={formVisible}\n                toggleForm={toggleForm}\n              />\n            </InfiniteScroll>\n          ) : (\n              <PageLoader />\n            )}\n\n          <Suspense fallback={<PageLoader />}>\n            <Drawer open={formVisible}>\n              <MemeForm\n                toast={toast}\n                props={propMeme}\n                addTheMeme={addTheMeme}\n                updateTheMeme={updateTheMeme}\n                toggleForm={toggleForm}\n              />\n            </Drawer>\n          </Suspense>\n        </Suspense>\n      </>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","//loader.js\n\nimport Loader from \"react-loader-spinner\";\n\n// This file contains the loader components for reusablity purposes\n\nexport const ContentLoader = ({ color = \"#e28640\" }) => {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <Loader\n        type=\"Bars\"\n        color={color}\n        height={75}\n        width={75}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport const PageLoader = () => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        height: \"90vh\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Loader\n        type=\"Puff\"\n        color=\"#e28640\"\n        height={75}\n        width={75}\n        timeout={10000} //10 secs\n      />\n    </div>\n  );\n}\n"],"sourceRoot":""}